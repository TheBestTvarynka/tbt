+++
title = "Announcing Dataans v.0.3.0"
date = 2025-07-31
draft = false

[taxonomies]
tags = ["rust", "tool", "project", "tauri", "leptos", "dataans"]

[extra]
keywords = "Rust, Tauri, Leptos, Note-taking, Markdown, Sync, Local-first"
toc = true
# thumbnail = "dataans-thumbnail.png"
+++

# Intro

The Dataans app has followed a local first approach since the very beginning of its existence.
After some time, I started to use the app on many devices and inside my Windows/Linux VMs.
I caught myself on a thought that it would be good to be able to transfer the data from one device to another.
Fast forward two months, and suddenly I realized that it is a critical feature for me.
After some considerations and small research, I understood that I wanted the multi-device synchronization feature.

Decentralized Internet, P2P networks, etc, are good. But the current implementation of the data synchronization feature relies on the central sync (backup) server. The data synchronization using the P2P communication may be implemented in the future. It depends on my needs.

# Demo

Before explaining how it works and how I implemented it, I want to show you the demo.

> _Better to see something once than hear about it a thousand times._

[Asian Proverb](https://skeptics.stackexchange.com/q/28487).

Below is a picture-by-picture guide; at the end of this section, you can find a complete video.

So, first, the user needs to log in. Open `App-info` window by clicking on the app version number in the left bottom corner of the main window. Then, type the sync server address and click log in:

![](./log-in-1.png)

Now the user needs to authorize:

![](./log-in-2.png)

And yes, as you can see, I decided to delegate all authentication-related tasks to Cloudflare. I did not want to implement it manually, and, honestly, it was one of the best decisions I made.
Thanks to [Cloudflare Zero Trust Access](https://www.cloudflare.com/zero-trust/products/access/), I only need to enter email and the code from email.

After the successful sign in, the user needs to enter password and secret passphrase.

![](./log-in-3.png)

At this point, two cases are possible:

1. If it is the first sign-in among all users' devices (sync server's database is empty), then the user needs to fill ONLY the password input.
   The passphrase will be automatically generated by the app. But if the user wants to use a custom passphrase, then they can type it.
2. If it is a new sign-in on another device and the sync server's database is not empty (there was a sync from other devices), then the user must type both password AND passphrase.
   The user can read the passphrase on any signed-in device in the `profile.json`.

> _Why does the app require the user to have a password if all auth has been delegated to Cloudflare?_

It is explained in detail in the [Auth](#auth) section. But, in short, the data encryption key is derived from the user's password and passphrase.

This is what the user sees after successful sign-in:

![](./logged-in.png)

From the screenshot above:

1. Button that triggers data synchronization.
2. Synchronization mode. Currently, only manual mode is implemented.
   It means, that every time when the user wants to sync the data, they need to press the button :upside_down_face:.
3. Sign out button.

Now, the user is able to sync app data. The synchronization process happens in the background.
So, the user can freely use the app without any limitations during synchronization. Once the sync is complete, a small pop-up message will appear.

![](./successful-sync.png)


# How it works

## Auth

## Data encryption

## Synchronization

## Files sync

# What is next?

# References & final note

